<!DOCTYPE html>
<html>
    <head>
        <title>Florida Sea Level Rise: Interactive Map &rtrif; Eric J.S.</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
        <link rel="stylesheet" href="https://js.arcgis.com/4.20/esri/themes/light/main.css">
		<link rel="stylesheet" href="/styles/webmap.css">
        <script src="https://js.arcgis.com/4.20/"></script>
        <script>
            require([
				"esri/config",
				"esri/WebMap",
				"esri/views/MapView",
				"esri/widgets/ScaleBar",
      			"esri/widgets/Legend",
				"esri/widgets/Expand"
			], function (
				esriConfig,
				WebMap,
				MapView,
				ScaleBar,
				Legend,
				Expand
			){
				esriConfig.apiKey = "AAPK0efec420f69f4e368735408b2dcf3dd2m3OpefIcFYbjVCGgqCAwiaMxJX2osKC57T45H-TK_3JEapFIVgiY4TtQU7mvvfrn";
				
				const webmap = new WebMap({
					portalItem: {
						id: "ea1efd0c68f64916b720438d5f4715b9"
					}
				});
				
				const view = new MapView({
					map: webmap,
					container: "map-container", // div element
					constraints: {
						minZoom: 5,
						maxZoom: 10,
						geometry: { // Constrain lateral movement
							type: "polygon",
							rings: [
								[
									[
										-87.8225096,
										31.1300734
									],
									[
										-80.4616698,
										30.9134435
									],
									[
										-78.8466796,
										23.9250703
									],
									[
										-86.1745604,
										23.9451614
									],
									[
										-87.8225096,
										31.1300734
									]
								]
							]
						}
					}
				});

				const scalebar = new ScaleBar({
					view: view
				});

				const legend = new Legend({
					view: view
				});

				const expandLegend = new Expand({
					view: view,
					content: legend,
					expandTooltip: "Legend",
					expandIconClass: "esri-icon-legend",
					expanded: true,
					mode: "floating"
				});

				view.ui.add("logo", "bottom-left");
				view.ui.move("zoom", "bottom-right");
				view.ui.add(scalebar, "bottom-right");
				view.ui.add("map-title", "top-left");
				view.ui.add("project-link", "top-left");
				view.ui.add(expandLegend, "top-left");

            });
        </script>
    </head>
    <body>
        <div id="map-container"></div>
		<div id="map-title" class="esri-widget">
			<h1>Population Displacement from Sea Level Rise in Florida in Year 2313</h1>
		</div>
		<div id="project-link" class="esri-widget">
			<a href="/projects/?name=florida-sea-levels">More info about this project &raquo;</a>
		</div>
		<div id="logo" class="esri-widget">
			<a href="/" id="logo-link-small">
				<img
					id="logo-svg-small"
					src="/media/logo-initials-display.svg"
					alt="Eric J.S."
					height="153"
					width="582"
					/>
            </a>
		</div>
    </body>
</html>